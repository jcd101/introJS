<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="user-scalable=no,initial-scale=1.0">
<title>Untitled Document</title>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
<style>
    body{
        font-family: sans-serif;
    } 
    form{
        width: 60%;
        margin: auto;
        box-sizing: border-box;
        border: solid 1px #000;
        border-radius: 12px;
        padding: 50px;
        background: #ccc;
    }
    label{
        display: inline-block;
        width: 120px;
        padding: 10px 0px;
    }
    
</style>
<script>

window.onload=function(){
    var promo=document.getElementById("promo_code");
     var myform=document.getElementById("myform");
    myform.onsubmit=function(){
        //call stringTest function
//        stringTest();
   
            return validate(); 
    }
    function validate(){
        var msg="ERRORS were found:\n";
        
        if(!radioVal()){
            msg+="GENDER IS REQUIRED\n";
        }
        if(!promoVal()){
            msg+="PROMO CODE IS INVALID";
        }
        if(!radioVal() || !promoVal()){
            alert(msg);
            return false;
        }else{
            return true;
        }

        
    }
    function promoVal(){
//[]is group and {}is how many times repeated, here it is number,letter, 3 times
        var reg=/^(\d[a-zA-Z]){3}$/ ;
        if(promo.value!="" && reg.test(promo.value)){
            return true;
        }else{
            
//if incorrect value then clears field
           promo.value="";
           promo.focus();
           return false ;
        }
        
    }
    
    function radioVal(){
        var num=-1;
        for(var i=0;i< myform.gender.length;i ++){
            if (myform.gender[i].checked){
                num ++;
            }
        }
        if(num >=0){
            return true ;
        }else{
            return false;
        }
        
    }
    
    
    function stringTest(){
//        alert(promo.value.indexOf("@"));
//        alert(promo.value.length);
//        alert(promo.value[0]);
//        alert(promo.value.substring(0,3));
        var space=promo.value.indexOf(" ");
        var stop_pos=promo.value.indexOf(".");
//        alert(promo.value.substring(0,3));
        alert(promo.value.substring(0,stop_pos));
    }
    
}
</script>
</head>

<body>
<!--    receive_form.htm-->
    <form id="myform" action="receive_form.htm">
    <label>Name:</label>
    <input type="text" name="name" autofocus placeholder="required" required>
    <br>
    <label>Email:</label>
    <input type="email" name="email" placeholder="required" required>
    <br>
    <label>Gender:</label>
    <input type="radio" name="gender" value="female">Female
    <input type="radio" name="gender" value="male">Male
    <br>
    <label>Promo Code:</label>
    <input type="text" id="promo_code">
    <br>
    <label>&nbsp;</label>
    <input type="reset" value="clear form">
    <input type="submit" value="send form">
    </form>
</body>
</html>
